<?php
$fiesta=[
'2019-09-14',
	'2019-09-15',
	'2019-09-21',
	'2019-09-22',
	'2019-09-28',
	'2019-09-29',
	'2019-10-05',
	'2019-10-06',
	'2019-10-12',
	'2019-10-13',
	'2019-10-19',
	'2019-10-20',
	'2019-10-26',
	'2019-10-27',
	'2019-10-28',
	'2019-10-29',
	'2019-10-30',
	'2019-10-31',
	'2019-11-01',
	'2019-11-02',
	'2019-11-03',
	'2019-11-09',
	'2019-11-10',
	'2019-11-16',
	'2019-11-17',
	'2019-11-23',
	'2019-11-24',
	'2019-11-30',
	'2019-12-01',
	'2019-12-06',
	'2019-12-07',
	'2019-12-08',
	'2019-12-09',
	'2019-12-14',
	'2019-12-15',
	'2019-12-21',
	'2019-12-22',
	'2019-12-23',
	'2019-12-24',
	'2019-12-25',
	'2019-12-26',
	'2019-12-27',
	'2019-12-28',
	'2019-12-29',
	'2019-12-30',
	'2019-12-31',
	'2020-01-01',
	'2020-01-02',
	'2020-01-03',
	'2020-01-06',
	'2020-01-07',
	'2020-01-11',
	'2020-01-12',
	'2020-01-18',
	'2020-01-19',
	'2020-01-25',
	'2020-01-26',
	'2020-02-01',
	'2020-02-02',
	'2020-02-08',
	'2020-02-09',
	'2020-02-15',
	'2020-02-16',
	'2020-02-22',
	'2020-02-23',
	'2020-02-24',
	'2020-02-25',
	'2020-02-26',
	'2020-02-27',
	'2020-02-28',
	'2020-02-29',
	'2020-03-01',
	'2020-03-07',
	'2020-03-08',
	'2020-03-14',
	'2020-03-15',
	'2020-03-21',
	'2020-03-22',
	'2020-03-28',
	'2020-03-29',
	'2020-04-04',
	'2020-04-05',
	'2020-04-09',
	'2020-04-10',
	'2020-04-11',
	'2020-04-12',
	'2020-04-13',
	'2020-04-14',
	'2020-04-15',
	'2020-04-16',
	'2020-04-17',
	'2020-04-18',
	'2020-04-19',
	'2020-04-25',
	'2020-04-26',
	'2020-05-01',
	'2020-05-02',
	'2020-05-03',
	'2020-05-09',
	'2020-05-10',
	'2020-05-16',
	'2020-05-17',
	'2020-05-23',
	'2020-05-24',
	'2020-05-30',
	'2020-05-31',
	'2020-06-06',
	'2020-06-07',
	'2020-06-13',
	'2020-06-14',
	'2020-06-20',
	'2020-06-21',
];
$dias=[
		'Mon'=>'Lunes',
		'Tue'=>'Martes',
		'Wed'=>'Miercoles',
		'Thu'=>'Jueves',
		'Fri'=>'Viernes',
		'Sat'=>'Sábado',
		'Sun'=>'Domingo',
	];
for($i=1;$i<289;$i++){
	$a=date('Y-m-d',($i-1)*24*60*60+strtotime('2019-09-13'));
	if(
		!in_array($a,$fiesta)
		and
		date('D',strtotime($a))!='Thu'
		and
		date('D',strtotime($a))!='Fri'
		and
		date('D',strtotime($a))!='Sat'
		and
		date('D',strtotime($a))!='Sun'
	){
		$x[]=[
		'n'=>$i,
		's'=>round($i/7)+1,
		'fecha'=>date('Y-m-d',strtotime('2019-09-13')+($i-1)*24*60*60),
		'D'=>$dias[date('D',strtotime('2019-09-13')+($i-1)*24*60*60)],
		];
	}
}
for($i=1;$i<290;$i++){
	$a=date('Y-m-d',($i-1)*24*60*60+strtotime('2019-09-13'));
	if(
		!in_array($a,$fiesta)
		and
		date('D',strtotime($a))!='Tue'
		and
		date('D',strtotime($a))!='Thu'
		and
		date('D',strtotime($a))!='Fri'
		and
		date('D',strtotime($a))!='Sat'
		and
		date('D',strtotime($a))!='Sun'
	){
		$y[]=[
		'n'=>$i,
		's'=>round($i/7)+1,
		'fecha'=>date('Y-m-d',strtotime('2019-09-13')+($i-1)*24*60*60),
		'D'=>date('D',strtotime('2019-09-13')+($i-1)*24*60*60),
		];
	}
}
echo count($x).' horas tenemos de HW'."<br>";
echo (count($y)*2).' horas tenemos de LMS';
foreach($x as $z){
	echo '<tr>'."<br>";
	// día año
	echo '<td>'."<br>";
	echo $z['n'].'º dia del año'."<br>";
	echo '</td>';	
	// día semana
	echo '<td>';
	echo $z['s'].'ª semana del año'."<br>";
	echo '</td>';
	// fecha
	echo '<td>';
	echo $z['fecha']."<br>";
	echo '</td>';	
	// día de la semana
	echo '<td>';
	echo $z['D'];
	echo '</td>';	
	
	echo '</tr>';
}
?>